# DISTINCT

## Info:
Ключевое слово `DISTINCT` используется в SQL запросах для выбора уникальных значений из столбца таблицы. Если в столбце есть повторяющиеся значения, то оператор `DISTINCT` выберет только уникальные значения из этого столбца.


**DISTINCT** может использоваться совместно с другими операторами, например, с **GROUP BY**, **HAVING** или **ORDER BY**.


## Table sales
| ID | Country | Product | Amount | 
| -- | ------- | ------- | ------ | 
| 1  | USA | Car | 100 | 
| 2  | Canada | Bike | 200 | 
| 3  | France | Bus | 300 | 
| 4  | Germany | Truck | 400 | 
| 5  | USA | Boat | 500 | 
| 6  | Canada | Car | 600 | 
| 7  | France | Bike | 700 | 
| 8  | Germany | Bus | 800 | 
| 9  | USA | Truck | 850 | 
| 10  | Canada | Boat | 100 | 
| 11 | France | Car | 200 | 
| 12  | Germany | Bike | 300 | 
| 13  | USA | Bus | 400 | 
| 14  | Canada | Truck | 500 | 
| 15  | France | Boat | 600 | 
| 16  | Germany | Car | 700 | 
| 17  | USA | Bike | 800 | 
| 18  | Canada | Bus | 850 | 
| 19  | France | Truck | 100 | 
| 20  | Germany | Boat | 200 | 

---

## Вопросы:
1. Как работает оператор DISTINCT в PostgreSQL?
    <details markdown="1">
    <summary><b>Ответ:</b></summary>
    Оператор DISTINCT в PostgreSQL удаляет повторяющиеся строки из результатов запроса, чтобы вернуть уникальные значения. Он применяется к столбцу, для которого нужно получить уникальные значения, и результаты возвращаются в алфавитном порядке.
    </details>
2. Как можно использовать DISTINCT для выбора уникальных значений из нескольких столбцов?
    <details markdown="1">
    <summary><b>Ответ:</b></summary>
    Чтобы выбрать уникальные значения из нескольких столбцов, можно использовать ключевое слово DISTINCT после оператора SELECT, после которого следует перечисление столбцов, которые нужно выбрать уникальные значения.
    </details>
3. В каких случаях следует использовать оператор DISTINCT?
    <details markdown="1">
    <summary><b>Ответ:</b></summary>
    Оператор DISTINCT следует использовать, когда требуется выбрать уникальные значения из столбца или нескольких столбцов. Это может быть полезно при работе с большими объемами данных или при выборке данных из таблиц, содержащих множество повторяющихся значений.
    </details>
4. Как можно использовать оператор DISTINCT вместе с другими операторами?
    <details markdown="1">
    <summary><b>Ответ:</b></summary>
    Оператор DISTINCT можно использовать с другими операторами, такими как ORDER BY, GROUP BY и HAVING. Например, можно использовать оператор DISTINCT с ORDER BY, чтобы выбрать уникальные значения из столбца и отсортировать их в порядке возрастания или убывания. Или можно использовать DISTINCT с GROUP BY, чтобы получить уникальные значения из группированных данных. Использование DISTINCT с HAVING позволяет выбрать уникальные значения, которые удовлетворяют заданным условиям.
    </details>
5. Можно ли использовать оператор DISTINCT в подзапросах?
    <details markdown="1">
    <summary><b>Ответ:</b></summary>
    Да, оператор DISTINCT можно использовать в подзапросах. Например, можно написать запрос, который выбирает все уникальные значения из столбца и использует этот результат в качестве условия в другом запросе.
    </details>

---

Чтобы получить уникальные значения столбца "country", мы можем использовать следующий запрос с DISTINCT:
```postgresql
SELECT 
    DISTINCT country 
FROM sales;
```

Результат будет содержать уникальные значения "USA", "Canada", "France" и "Germany".
| country | 
| ------- |
| Canada |
| France | 
| USA |
| Germany |


---

Чтобы вычислить общую сумму продаж по каждой стране, мы можем использовать GROUP BY и функцию агрегирования SUM:

```postgresql
SELECT 
    country, 
    SUM(amount) 
FROM sales 
GROUP BY country;
```


Этот запрос сгруппирует записи по значению столбца "country" и вычислит сумму значений столбца "amount" для каждой группы. Результат будет содержать два столбца: "country" и "sum":
| country | sum |
| ------- | --- |
| Canada |2250 |
| France | 1900 |
| USA | 2650 |
| Germany | 2400 | 

---


